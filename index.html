<!DOCTYPE html>
<html>
<head>
    <title>Submit Location</title>
    <style>
        /* Make the iframe visually seamless */
        #formFrame {
            display: none;
            width: 100%;
            height: 90vh; /* Adjust as needed for form length */
            border: none;
            margin-top: 20px;
        }

        /* Style the submit button */
        button {
            background-color: #04AA6D;
            color: white;
            padding: 15px 32px;
            border: none;
            font-size: 16px;
            cursor: pointer;
        }

        /* Loading message or feedback text */
        #feedback {
            display: none;
            font-size: 16px;
            color: #333;
            margin-top: 20px;
        }
    </style>
    <script>
        function submitForm() {
            const lat = document.getElementById("latitude").value;
            const lng = document.getElementById("longitude").value;

            // Check coordinates bounds
            const latInBounds = lat >= 52.604317397573304 && lat <= 52.72653912231432;
            const lngInBounds = lng >= -8.71377404624023 && lng <= -8.49404748374023;

            if (!latInBounds || !lngInBounds) {
                alert("The selected location is outside the allowed area.");
                return;
            }

            const formUrl = `https://docs.google.com/forms/d/e/1FAIpQLScWiQ4Pva8rDKxDghmIAZIYCuRqwUuhEPKX8CZ4u9FiwNF_yA/viewform?usp=sf_link&entry.1790994089=${lat},${lng}`;

            // Display feedback and form iframe
            document.getElementById("feedback").style.display = "block";
            document.getElementById("formFrame").src = formUrl;
            document.getElementById("formFrame").style.display = "block";
        }
    </script>
</head>
<body>
    <h2>Location Submission</h2>
    <p>Select a location on the map. When ready, submit the location, and the Google Form will load below.</p>
    <input type="hidden" id="latitude" value="52.65396">
    <input type="hidden" id="longitude" value="-8.6157554">
    <button onclick="submitForm()">Submit Location</button>

    <!-- Feedback message to guide users -->
    <div id="feedback">Loading form, please wait...</div>

    <!-- Embedded Google Form -->
    <iframe id="formFrame"></iframe>
</body>
</html>
