<!DOCTYPE html>
<html>
<head>
    <title>Embed Google Form with Hidden Fields</title>
    <style>
        /* Make sure iframe takes up available width and height */
        #formFrame {
            width: 100%;
            height: 80vh;
            border: none;
            display: none; /* Initially hide the iframe */
        }
        #loadButton {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
    <script>
        function loadIframe() {
            const iframe = document.createElement("iframe");
			iframe.onload = hideFormFields; // Call hideFormFields when the iframe has loaded
            iframe.id = "formFrame";
            iframe.src = "https://docs.google.com/forms/d/e/1FAIpQLScWiQ4Pva8rDKxDghmIAZIYCuRqwUuhEPKX8CZ4u9FiwNF_yA/viewform?usp=sf_link&entry.1790994089=52.65396,-8.6157554";
            document.getElementById("iframeContainer").appendChild(iframe);
            iframe.style.display = "block"; // Show the iframe after it's added
        }

        function hideFormFields() {
			
            const iframe = document.getElementById("formFrame");
            // const formDocument = iframe.contentDocument || iframe.contentWindow.document;
			const contentWindow = iframe.contentWindow;
			debugger;
            // Get all input elements with data-initial-value
            const inputs = iframe.contentWindow.body.querySelectorAll('input[data-initial-value]');
			debugger;
            inputs.forEach(input => {
                // Check if data-initial-value is not an empty string
                if (input.getAttribute('data-initial-value') !== "") {
                    // Find the closest ancestor with role="listitem" and hide it
                    const listItem = input.closest('[role="listitem"]');
                    if (listItem) {
                        listItem.style.display = "none"; // Hide the entire list item
                    }
                }
            });
        }
    </script>
</head>
<body>
    <h2>Submit Your Cycling Challenge</h2>
    <p>Select the location and upload an image if applicable, then complete additional details below.</p>

    <button id="loadButton" onclick="loadIframe()">Load Google Form</button>
    <div id="iframeContainer"></div> <!-- Container for the iframe -->
</body>
</html>
